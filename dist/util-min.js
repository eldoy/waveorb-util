window.load=async function(path,into){var res=await fetch(path),el,res=await res.text();return into&&(el=html(into,res),qa("script",el,function(script){script.loaded||(script.loaded=!0,eval(script.textContent))})),res},window.sleep=function(o=.5){return new Promise(t=>setTimeout(t,1e3*o))},window.goBack=function(){history.go(-(store("root")||1))},window.navCount=function(t){var o;t?(t=location.pathname,(o=store("last"))&&o==t||store("root",(store("root")||0)+1),store("last",t)):(store("root",null),store("last",null))},window.isImage=function(t){return/\.(gif|jpe?g|tiff|png|bmp|svg)$/i.test(t)},window.closeWindow=function(t){"Escape"==t.code&&goBack()},window.truncate=function(t,o=20){return t.length<o?t:t.slice(0,o)+"..."},window.setActiveLink=function(o={}){document.querySelectorAll(o.selector||"a").forEach(function(t){t.pathname==location.pathname&&t.classList.add(o.active||"active")})},window.logout=function(t={},o){t=t.cookie||"session";cookie(t)&&cookie(t,null),o&&o()},window.toggleMenu=function(t){q(t||"#main-menu",t=>t.classList.toggle("open"))},window.closeMenus=function(t){t.stopPropagation();for(var o,e=t.target;e;){if(e.classList.contains("open"))return;var n=e.getAttribute("data-toggle");if(n){o=q(n);break}e=e.parentElement}qa(".open",t=>{t!=o&&t.classList.remove("open")})},window.track=function(){var t=store("track")||[],o=location.pathname+location.search;return t[t.length-1]!=o&&(t.push(o),t=t.slice(-100)),store("track",t)},window.back=function(){var t=store("track")||[],t=t[t.length-2];if(t)return location=t;history.go(-1)},window.last=function(){var t=store("track")||[];return t[t.length-2]||""},window.handleToggleHelp=function(t){t=t.nextElementSibling;t.style.display="none"==t.style.display?"block":"none"},window.isVisible=function(t,o){var{top:t,height:e,bottom:n}=t.getBoundingClientRect(),o=o.getBoundingClientRect();return t<=o.top?o.top-t<=e:n-o.bottom<=e},window.longtime=function(t){return time(t,{lang:"no",dateStyle:"full",timeStyle:"long"})},window.mediumtime=function(t){return time(t,{lang:"no",dateStyle:"short",timeStyle:"medium"})},window.smoothScroll=function(t,o=0){"string"==typeof t&&(t=q(t));t=Math.round(t.getBoundingClientRect().top+document.documentElement.scrollTop)-o;window.scrollTo({top:t,left:0,behavior:"smooth"})},window.scrollToError=function(t=""){(t="string"==typeof t?q(t):t)&&(t=q("em:not(:empty)",t))&&smoothScroll(t.parentNode,20)},window.scrollModal=function(t=0){return q(".modal-content").scroll({top:t})},window.saveFile=function(t){var t=t.href,o=t.substring(t.lastIndexOf("/")+1).split("?")[0],e=new XMLHttpRequest;e.responseType="blob",e.onload=function(){var t=document.createElement("a");t.href=window.URL.createObjectURL(e.response),t.download=o,t.style.display="none",document.body.appendChild(t),t.click(),delete t},e.open("GET",t),e.send()},window.download=function(t){var o=document.createElement("a");o.setAttribute("target","_blank"),o.setAttribute("href",t),o.style.display="none",document.body.append(o),o.click(),setTimeout(function(){o.remove()},100)},window.dropdownOpen=function(t){t.classList.toggle("toggle-open"),q("#main-menu",t=>t.classList.toggle("toggle-open"))},window.dropdownBlur=function(i={}){i.toggler||(i.toggler="toggle-open"),i.ref||(i.ref="data-toggle"),document.addEventListener("click",function(t){t.stopPropagation();for(var o,e=t.target;e;){if(e.classList.contains(i.toggler))return;var n=e.getAttribute(i.ref);if(n){o=q(n);break}e=e.parentElement}qa("."+i.toggler,t=>{t!=o&&t.classList.remove(i.toggler)})})},window.copy=function(t){(t="string"==typeof t?document.querySelector(t):t).select(),t.setSelectionRange(0,99999),navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t.value):"function"==typeof document.execCommand&&document.execCommand("copy")},window.popupCopy=function(t){var o=t.getAttribute("data-source");clearTimeout(window.__timeout[o]),copy("#"+o),t.classList.remove("popup"),t.classList.add("popup"),window.__timeout||(window.__timeout={}),window.__timeout[o]=setTimeout(function(){t.classList.remove("popup")},3e3)};